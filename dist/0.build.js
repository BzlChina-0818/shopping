webpackJsonp([0],{177:function(t,e,i){"use strict";function n(t){i(180)}Object.defineProperty(e,"__esModule",{value:!0});var a=i(178),o=i(186),s=i(2),c=n,r=s(a.a,o.a,!1,c,"data-v-adb33f54",null);e.default=r.exports},178:function(t,e,i){"use strict";var n=i(4),a=i(182),o=i(10),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.a={data:function(){return{count:1,arr:[],newArr:[],flag:!1,edit:"编辑",closeAccount:"结算"}},computed:{allPrice:function(){return this.newArr=this.arr.map(function(t,e){return t.acount}),this.newArr.reduce(function(t,e){return t+e},0)}},created:function(){this.fetchShopList()},methods:s({},Object(o.b)(["fetchShopList"]),{changeCount:function(){this.fetchShopList()},changeEdit:function(){console.log("1"),console.log(this.edit),"编辑"==this.edit?(this.edit="完成",this.closeAccount="删除"):(this.edit="编辑",this.closeAccount="结算")},changeAccount:function(){var t=this;if("删除"==this.closeAccount){var e=[];this.$refs.listshop.forEach(function(t,i){t.jdShop&&e.push(t.list.wareId)}),console.log(e),this.$http.post("http://localhost:3200/api/deleinfo",{token:Object(n.a)("token"),id:e}).then(function(e){"成功"===e.msg&&t.fetchShopList()})}},changePrice:function(t){if(console.log(t),t.acount>0){if(this.arr.some(function(e,i){return e.id==t.id})){console.log(this.arr);var e=void 0;this.arr.forEach(function(i,n){i.acount==t.acount||(e=n)}),this.arr.splice(e,1,t),console.log(this.arr)}else this.arr.push(t);console.log(this.arr)}else{var i=void 0;this.arr.some(function(e,n){return e.id===t.id&&(i=n,!0)})&&this.arr.splice(i,1)}},allCheck:function(t){if(t=!t)this.newArr=[];else{this.newArr=[];var e=0;this.$store.state.shoplist.forEach(function(t,i){e+=t.jdPrice*t.count}),console.log(e),console.log(this.newArr),this.newArr.push(e)}}}),components:{shoplist:a.a}}},179:function(t,e,i){"use strict";var n=i(4);e.a={data:function(){return{acount:0,jdShop:!1}},props:{list:{required:!0,type:Object}},watch:{},methods:{changeBox:function(t,e,i,n){this.acount=e?t*i:0,e=!e,this.$emit("upprice",{acount:this.acount,id:n,tag:e})},add:function(t,e,i,a){var o=this;this.$http.post("http://localhost:3200/api/add",{token:Object(n.a)("token"),id:a,type:"add"}).then(function(n){"1"==n.code&&(o.$emit("updata"),o.acount=e?t*i:0,o.$emit("upprice",{acount:o.acount,id:a}))})},minus:function(t,e,i,a){var o=this;this.$http.post("http://localhost:3200/api/add",{token:Object(n.a)("token"),id:a,type:"minus"}).then(function(n){"1"==n.code&&(o.$emit("updata"),o.acount=e?t*i:0,o.$emit("upprice",{acount:o.acount,id:a}))})},mounted:function(){}}}},180:function(t,e,i){var n=i(181);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(1)("5b303f6e",n,!0,{})},181:function(t,e,i){e=t.exports=i(0)(!1),e.push([t.i,".box[data-v-adb33f54]{display:flex;flex-direction:column;width:100%;height:100%;background-color:#eee}.head[data-v-adb33f54]{width:100%;height:.97rem;display:flex;border-bottom:.01rem solid #ccc;align-items:center;justify-content:space-around;position:relative;background-color:#fafafb}.head div[data-v-adb33f54]{display:flex}.main[data-v-adb33f54]{width:100%;flex:1;overflow-y:scroll}span[data-v-adb33f54]{color:#464646}.bianji[data-v-adb33f54]{margin-right:.3rem}.shop[data-v-adb33f54]{position:absolute;left:50%;transform:translatex(-50%)}.bottom[data-v-adb33f54]{width:100%;height:.97rem;background-color:#fff;display:flex;justify-content:space-around;align-items:center}.allPrice[data-v-adb33f54]{display:flex;flex-direction:column;margin-right:.3rem}.bottomRight[data-v-adb33f54]{display:flex;align-items:center}button[data-v-adb33f54]{width:2.55rem;height:.9rem;border:none;outline:none;background-color:#fc4141;color:#fff;text-align:center;line-height:.9rem}.text[data-v-adb33f54]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}",""])},182:function(t,e,i){"use strict";function n(t){i(183)}var a=i(179),o=i(185),s=i(2),c=n,r=s(a.a,o.a,!1,c,null,null);e.a=r.exports},183:function(t,e,i){var n=i(184);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(1)("002c60eb",n,!0,{})},184:function(t,e,i){e=t.exports=i(0)(!1),e.push([t.i,".list{width:100%;height:2.65rem;display:flex;margin-bottom:.2rem;background-color:#fff;align-items:center;justify-content:space-around}.list img{width:2rem}.listRight{width:4.2rem;height:2rem;flex-direction:column;justify-content:space-around}.listRight input{width:1rem;height:.6rem;outline:none;border:.01rem solid #ccc;text-align:center}.listRight{display:flex;justify-content:space-between}.listRight b{color:red}.listRight span{display:inline-block;height:.6rem;width:.6rem;border:.01rem solid #ccc;text-align:center;line-height:.6rem}",""])},185:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.jdShop,expression:"jdShop"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.jdShop)?t._i(t.jdShop,null)>-1:t.jdShop},on:{change:[function(e){var i=t.jdShop,n=e.target,a=!!n.checked;if(Array.isArray(i)){var o=t._i(i,null);n.checked?o<0&&(t.jdShop=i.concat([null])):o>-1&&(t.jdShop=i.slice(0,o).concat(i.slice(o+1)))}else t.jdShop=a},function(e){t.changeBox(t.list.count,t.jdShop,t.list.jdPrice,t.list.wareId)}]}}),t._v(" "),i("img",{attrs:{src:t.list.imageurl}}),t._v(" "),i("div",{staticClass:"listRight"},[i("p",{staticClass:"text"},[t._v(t._s(t.list.wname))]),t._v(" "),i("div",[i("b",[t._v("$"+t._s(t.list.jdPrice))]),t._v(" "),i("p",[i("span",{on:{click:function(e){t.minus(t.list.count,t.jdShop,t.list.jdPrice,t.list.wareId)}}},[t._v("-")]),t._v(" "),i("span",[t._v(t._s(t.list.count))]),t._v(" "),i("span",{on:{click:function(e){t.add(t.list.count,t.jdShop,t.list.jdPrice,t.list.wareId)}}},[t._v("+")])])])])])},a=[],o={render:n,staticRenderFns:a};e.a=o},186:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("div",{staticClass:"head"},[i("span"),t._v(" "),i("span"),t._v(" "),t._m(0),t._v(" "),i("div",[i("span",{staticClass:"bianji",on:{click:t.changeEdit}},[t._v(t._s(t.edit))]),t._v(" "),i("span",[t._v("✉")])])]),t._v(" "),i("div",{staticClass:"main"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0==this.$store.state.shoplist.length,expression:"this.$store.state.shoplist.length==0"}],staticClass:"list"},[t._v("\n\t\t\t\t你的购物车啥也没有！\n\t\t\t")]),t._v(" "),t._l(this.$store.state.shoplist,function(e){return i("shoplist",{ref:"listshop",refInFor:!0,attrs:{list:e},on:{updata:t.changeCount,upprice:t.changePrice}})})],2),t._v(" "),i("div",{staticClass:"bottom"},[i("div",{staticClass:"bottomLeft"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.flag,expression:"flag"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.flag)?t._i(t.flag,null)>-1:t.flag},on:{change:[function(e){var i=t.flag,n=e.target,a=!!n.checked;if(Array.isArray(i)){var o=t._i(i,null);n.checked?o<0&&(t.flag=i.concat([null])):o>-1&&(t.flag=i.slice(0,o).concat(i.slice(o+1)))}else t.flag=a},function(e){t.allCheck(t.flag)}]}}),t._v(" "),i("span",[t._v("全选")])]),t._v(" "),i("div",{staticClass:"bottomRight"},[i("div",{staticClass:"allPrice"},[i("span",[t._v("合计"),i("b",[t._v("$"+t._s(t.allPrice))])]),t._v(" "),i("span",[t._v("(运费：￥0)")])]),t._v(" "),i("div",[i("button",{on:{click:t.changeAccount}},[t._v(t._s(t.closeAccount))])])])])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shop"},[i("span",[t._v("购物车")])])}],o={render:n,staticRenderFns:a};e.a=o}});
//# sourceMappingURL=0.build.js.map